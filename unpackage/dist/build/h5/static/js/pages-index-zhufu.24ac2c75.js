(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-zhufu"],{"01b0":function(t,e,a){"use strict";var i=a("7ee1"),s=a.n(i);s.a},5235:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"canvas-content"},[a("v-uni-movable-area",{staticClass:"moveAre",attrs:{"scale-area":"true"}},[a("v-uni-view",{staticClass:"button_back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[a("p",[t._v("返回")])]),a("v-uni-view",{staticClass:"canvas-border",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.start.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.move.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.moveEnd.apply(void 0,arguments)},longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImg()}}},[a("v-uni-canvas",{attrs:{"canvas-id":"firstCanvas"},on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.saveImg()}}})],1),a("v-uni-movable-view",{style:"height:"+t.picWidth+"px;width:"+t.picHeigth+"px;",attrs:{animation:"false",calss:"enlarge",scale:"true"},on:{scale:function(e){arguments[0]=e=t.$handleEvent(e),t.scaler.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"foot-Img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e)}}},t._l(t.imgBox,(function(e){return a("v-uni-view",{staticClass:"imgBox"},[a("img",{attrs:{src:e.preImg,alt:""},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchImg(e.srcImg)}}})])})),1)],1)},n=[]},7133:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".button_back[data-v-1f6f9dce]{z-index:999;width:70px;height:40px;background-color:#ffe0cc;position:absolute;left:0;top:80px;border-top-right-radius:25px;border-bottom-right-radius:25px;border-left:0;border:2px solid #fff}.button_back p[data-v-1f6f9dce]{margin-left:10px;line-height:40px}.canvas-border[data-v-1f6f9dce]{margin:60px auto;height:567px;width:319px}.enlarge[data-v-1f6f9dce]{width:100%;height:100%}.backImg[data-v-1f6f9dce]{opacity:0;width:100%;height:100%;position:absolute;left:0;right:0}.foot-ImgTwo[data-v-1f6f9dce]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;background-color:#feebed;border-top:3px solid #ffe0cc;position:fixed;bottom:0;height:80px;width:100%}.moveImg[data-v-1f6f9dce]{z-index:1}.moveAre[data-v-1f6f9dce]{overflow:hidden;width:100%;height:100%}.fontImg[data-v-1f6f9dce]{top:0;left:0;position:absolute;height:100%;width:100%}uni-page-body[data-v-1f6f9dce]{width:100%;height:100%}.canvas-content[data-v-1f6f9dce]{background-color:#feebed;width:100%;height:100%}.imgBox_pre[data-v-1f6f9dce]{width:70px;height:70px}uni-canvas[data-v-1f6f9dce]{width:100%;height:100%}",""]),t.exports=e},"72bd":function(t,e,a){"use strict";a.r(e);var i=a("5235"),s=a("a4cc");for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("01b0");var o,c=a("f0c5"),r=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"1f6f9dce",null,!1,i["a"],o);e["default"]=r.exports},"7ee1":function(t,e,a){var i=a("7133");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("1f84328c",i,!0,{sourceMap:!1,shadowMode:!1})},"84df":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{imgBox:[{preImg:"/static/pre_border/1.png",srcImg:"/static/1.png"},{preImg:"/static/pre_border/2.png",srcImg:"/static/2.png"},{preImg:"/static/pre_border/3.png",srcImg:"/static/3.png"}],saveIf:!0,posStartX:0,posStartY:0,offSetX:0,offsetY:0,posX:0,posY:0,startPosX:0,startPosY:0,setData:"",imgSrc1:"",scaleSize:1,imgSrc2:"/static/1.png"}},onLoad:function(t){var e=uni.createSelectorQuery().in(this);e.select(""),this.imgSrc1=t.imgSrc,this.drawImg()},methods:{back:function(){uni.navigateBack({delta:1})},switchImg:function(t){this.saveIf=!1,this.imgSrc2=t,this.drawImg(),this.saveIf=!0},scaler:function(t){var e=t;this.scaleSize=e.detail["scale"],this.drawImg()},start:function(t){var e=t.touches[0];this.posStartX=e["pageX"],this.posStartY=e["pageY"],this.startPosX=this.posX,this.startPosY=this.posY},move:function(t){if(this.saveIf){var e=t.touches[0];this.offSetX=(e["pageX"]-this.posStartX)/1.3,this.offSetY=(e["pageY"]-this.posStartY)/1.3,this.posX=this.startPosX+this.offSetX,this.posY=this.startPosY+this.offSetY,this.drawImg()}},moveEnd:function(t){this.posX=this.startPosX+this.offSetX,this.posY=this.startPosY+this.offSetY},drawUpdata:function(){this.drawImg()},drawImg:function(){var t=this,e=uni.createCanvasContext("firstCanvas");uni.getImageInfo({src:t.imgSrc2,success:function(a){var i=a.height,s=a.width;uni.getImageInfo({src:t.imgSrc1,success:function(a){var n=a.width,o=a.height;uni.getSystemInfo({success:function(a){var c=319,r=567,f=n,d=o;n>c&&(f=c,d/=n/c),e.drawImage(t.imgSrc1,0,0,n,o,t.posX,t.posY,f*t.scaleSize,d*t.scaleSize),e.drawImage(t.imgSrc2,0,0,s,i,0,0,c,r),e.draw()}})}})}})},saveImg:function(){if(0!=this.saveIf){this.saveIf=!1;var t=this;uni.showLoading({title:"正在保存",mask:!0}),uni.canvasToTempFilePath({canvasId:"firstCanvas",success:function(e){uni.hideLoading(),uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){console.log(e),uni.showToast({title:"保存成功",success:function(){t.saveIf=!0}}),t.setData={modalname:null}},fail:function(e){console.log(e),"saveImageToPhotosAlbum:fail auth deny"==e.errMsg&&uni.showModal({title:"请打开相册授权",success:function(e){e.confirm?uni.openSetting({success:function(e){t.saveIf=!0},fail:function(e){console.log("openSetting fail",e),t.saveIf=!0}}):e.cancel&&(console.log("用户取消"),t.saveIf=!0)}})}})},fail:function(e){console.log(e),t.saveIf=!0}})}}}};e.default=i},a4cc:function(t,e,a){"use strict";a.r(e);var i=a("84df"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a}}]);